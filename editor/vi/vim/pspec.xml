<?xml version="1.0" ?>
<!DOCTYPE PISI SYSTEM "http://www.pisilinux.org/projeler/pisi/pisi-spec.dtd">
<PISI>
    <Source>
        <Name>vim</Name>
        <Homepage>http://www.vim.org/</Homepage>
        <Packager>
            <Name>PisiLinux Community</Name>
            <Email>admins@pisilinux.org</Email>
        </Packager>
        <License>GPLv2</License>
        <Summary>Vi IMproved, an advanced text editor</Summary>
        <Description>Vim, which stands for Vi IMproved, is an open-source, multiplatform text editor extended from vi. It was first released by Bram Moolenaar in 1991. Since then, numerous features have been added to Vim, many of which are helpful in editing program source code.</Description>
        <Archive sha1sum="98ae44447fd95510f9ee97d35f5e4b029dfaae57" type="targz">https://github.com/vim/vim/archive/v8.0.1451.tar.gz</Archive>
        <BuildDependencies>
            <Dependency>gpm</Dependency>
            <Dependency>ctags</Dependency>
            <Dependency>python-devel</Dependency>
            <Dependency>acl-devel</Dependency>
            <Dependency>gtk2-devel</Dependency>
            <Dependency>libSM-devel</Dependency>
            <Dependency>libXt-devel</Dependency>
            <Dependency>pango-devel</Dependency>
            <Dependency>libICE-devel</Dependency>
            <Dependency>ruby-devel</Dependency>
            <Dependency>ncurses-devel</Dependency>
        </BuildDependencies>
        <Patches>
            <!-- Official VIM patches: ftp://ftp.vim.org/pub/vim/patches -->
           <!--<Patch compressionType="xz">official/7.4-461-tar.xz</Patch>-->

            <!-- Fix xml autocomplete crash (Fixes #8383) -->
            <Patch>vim-fix-xml-crash.patch</Patch>

            <!-- syntax higlighting fixes -->
            <!--<Patch level="1">pisilinux/bash_completion.patch</Patch>-->
            <Patch level="1">pisilinux/grub_conf.patch</Patch>
            <Patch level="1">pisilinux/xorg_conf.patch</Patch>
            <Patch level="1">vim-7.0-warning.patch</Patch>
            <Patch level="1">vim-7.3-interix-link.patch</Patch>
        </Patches>
    </Source>

    <Package>
        <Name>vim</Name>
        <IsA>app:console</IsA>
        <RuntimeDependencies>
            <Dependency>gpm</Dependency>
            <Dependency>ctags</Dependency>
            <Dependency>perl</Dependency>
            <Dependency>acl</Dependency>
            <Dependency>ruby</Dependency>
            <Dependency>ncurses</Dependency>
        </RuntimeDependencies>
        <Files>
            <Path fileType="executable">/usr/bin/vi*</Path>
            <Path fileType="executable">/usr/bin/rvi*</Path>
            <Path fileType="executable">/usr/bin/ex</Path>
            <Path fileType="executable">/usr/bin/xxd</Path>
            <Path fileType="executable">/bin</Path>
            <Path fileType="data">/usr/share/vim</Path>
            <Path fileType="man">/usr/share/man</Path>
            <Path fileType="doc">/usr/share/doc</Path>
            <Path fileType="config">/etc/vim</Path>
        </Files>
        <AdditionalFiles>
            <AdditionalFile owner="root" permission="0644" target="/etc/vim/vimrc">vimrc</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/usr/share/vim/vimfiles/plugin/actions.vim">pisilinux/actions.vim</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/usr/share/vim/vimfiles/plugin/pspec.vim">pisilinux/pspec.vim</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/usr/share/vim/vimfiles/plugin/translations.vim">pisilinux/translations.vim</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/usr/share/vim/vimfiles/plugin/taglist.vim">plugins/taglist.vim</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/usr/share/vim/vimfiles/plugin/kde-devel-vim.vim">plugins/kde-devel-vim.vim</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/usr/share/vim/vimfiles/plugin/newpythonfile.vim">plugins/newpythonfile.vim</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/usr/share/vim/vimfiles/colors/redstring.vim">plugins/redstring.vim</AdditionalFile>
        </AdditionalFiles>
    </Package>

    <Package>
        <Name>gvim</Name>
        <Icon>gvim</Icon>
        <IsA>app:gui</IsA>
        <BuildType>gui</BuildType>
        <RuntimeDependencies>
            <Dependency>acl</Dependency>
            <Dependency>perl</Dependency>
            <Dependency>glib2</Dependency>
            <Dependency>libX11</Dependency>
            <Dependency>ncurses</Dependency>
            <Dependency>gtk2</Dependency>
            <Dependency>gpm</Dependency>
            <Dependency>libSM</Dependency>
            <Dependency>libXt</Dependency>
            <Dependency>pango</Dependency>
            <Dependency>libICE</Dependency>
            <Dependency>vim</Dependency>
            <Dependency>gdk-pixbuf</Dependency>
        </RuntimeDependencies>
        <Files>
            <Path fileType="executable">/usr/bin/ggvi*</Path>
            <Path fileType="executable">/usr/bin/gvi*</Path>
            <Path fileType="executable">/usr/bin/egvi*</Path>
            <Path fileType="executable">/usr/bin/rggvi*</Path>
            <Path fileType="executable">/usr/bin/rgvi*</Path>
            <Path fileType="executable">/usr/bin/gvimtutor</Path>
            <Path fileType="data">/usr/share/pixmaps</Path>
            <Path fileType="data">/usr/share/icons</Path>
            <Path fileType="data">/usr/share/applications</Path>
        </Files>
        <AdditionalFiles>
            <AdditionalFile owner="root" permission="0755" target="/usr/bin/gvimtutor">gvimtutor</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/usr/share/pixmaps/gvim.xpm">gvim.xpm</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/usr/share/applications/gvim.desktop">gvim.desktop</AdditionalFile>
        </AdditionalFiles>
    </Package>

    <History>
        <Update release="6">
            <Date>2018-08-29</Date>
            <Version>8.0.1451</Version>
            <Comment>Rebuild.</Comment>
            <Name>Pisi Linux Community</Name>
            <Email>admin@pisilinux.org</Email>
        </Update>
        <Update release="5">
            <Date>2018-02-01</Date>
            <Version>8.0.1451</Version>
            <Comment>Version bump.</Comment>
            <Name>Ali Algül</Name>
            <Email>aligulle3801@gmail.com</Email>
        </Update>
        <Update release="4">
            <Date>2017-04-10</Date>
            <Version>0.8.0.0559</Version>
            <Comment>Version bump.</Comment>
            <Name>Ertuğrul Erata</Name>
            <Email>ertugrulerata@gmail.com</Email>
        </Update>
        <Update release="3">
            <Date>2016-06-10</Date>
            <Version>0.8.0.0130</Version>
            <Comment>Release Bump</Comment>
            <Name>Pisi Linux Community</Name>
            <Email>admin@pisilinux.org</Email>
        </Update>
        <Update release="2">
            <Date>2016-06-10</Date>
            <Version>0.7.4.909</Version>
            <Comment>Release Bump</Comment>
            <Name>Pisi Linux Community</Name>
            <Email>admin@pisilinux.org</Email>
        </Update>
        <Update release="1">
            <Date>2015-11-05</Date>
            <Version>0.7.4.909</Version>
            <Comment>First release</Comment>
            <Name>Ertuğrul Erata</Name>
            <Email>ertugrulerata@gmail.com</Email>
        </Update>
    </History>
</PISI>
